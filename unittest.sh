#!/bin/bash
source assert.sh

s_count=0
f_count=0

test_ok()
{
	result="$(./push_swap $@ | ./checker_linux $@)"
	assert_eq $result "OK" "Failed test with args '$@'" \
		&& log_success "Passed test with args '$@'" && ((s_count++)) \
		|| ((f_count++))
	echo
}

test_ok "0"
test_ok "1"
test_ok "-1"
test_ok "-2147483648"
test_ok "2147483647"


test_ok "0 1"
test_ok "1 0"
test_ok "1 -1"
test_ok "-1 1"
test_ok "2147483647 -2147483648"
test_ok "-2147483648 2147483647"


test_ok "1 2 3"
test_ok "1 3 2"
test_ok "2 3 1"
test_ok "2 1 3"
test_ok "3 1 2"
test_ok "3 2 1"


test_ok "1 2 3 4"
test_ok "1 2 4 3"
test_ok "1 3 2 4"
test_ok "1 3 4 2"
test_ok "1 4 2 3"
test_ok "1 4 3 2"
test_ok "2 1 3 4"
test_ok "2 1 4 3"
test_ok "2 3 1 4"
test_ok "2 3 4 1"
test_ok "2 4 1 3"
test_ok "2 4 3 1"
test_ok "3 1 2 4"
test_ok "3 1 4 2"
test_ok "3 2 1 4"
test_ok "3 2 4 1"
test_ok "3 4 1 2"
test_ok "3 4 2 1"
test_ok "4 1 2 3"
test_ok "4 1 3 2"
test_ok "4 2 1 3"
test_ok "4 2 3 1"
test_ok "4 3 1 2"
test_ok "4 3 2 1"


test_ok "1 2 3 4 5"
test_ok "1 2 3 5 4"
test_ok "1 2 4 3 5"
test_ok "1 2 4 5 3"
test_ok "1 2 5 3 4"
test_ok "1 2 5 4 3"
test_ok "1 3 2 4 5"
test_ok "1 3 2 5 4"
test_ok "1 3 4 2 5"
test_ok "1 3 4 5 2"
test_ok "1 3 5 2 4"
test_ok "1 3 5 4 2"
test_ok "1 4 2 3 5"
test_ok "1 4 2 5 3"
test_ok "1 4 3 2 5"
test_ok "1 4 3 5 2"
test_ok "1 4 5 2 3"
test_ok "1 4 5 3 2"
test_ok "1 5 2 3 4"
test_ok "1 5 2 4 3"
test_ok "1 5 3 2 4"
test_ok "1 5 3 4 2"
test_ok "1 5 4 2 3"
test_ok "1 5 4 3 2"
test_ok "2 1 3 4 5"
test_ok "2 1 3 5 4"
test_ok "2 1 4 3 5"
test_ok "2 1 4 5 3"
test_ok "2 1 5 3 4"
test_ok "2 1 5 4 3"
test_ok "2 3 1 4 5"
test_ok "2 3 1 5 4"
test_ok "2 3 4 1 5"
test_ok "2 3 4 5 1"
test_ok "2 3 5 1 4"
test_ok "2 3 5 4 1"
test_ok "2 4 1 3 5"
test_ok "2 4 1 5 3"
test_ok "2 4 3 1 5"
test_ok "2 4 3 5 1"
test_ok "2 4 5 1 3"
test_ok "2 4 5 3 1"
test_ok "2 5 1 3 4"
test_ok "2 5 1 4 3"
test_ok "2 5 3 1 4"
test_ok "2 5 3 4 1"
test_ok "2 5 4 1 3"
test_ok "2 5 4 3 1"
test_ok "3 1 2 4 5"
test_ok "3 1 2 5 4"
test_ok "3 1 4 2 5"
test_ok "3 1 4 5 2"
test_ok "3 1 5 2 4"
test_ok "3 1 5 4 2"
test_ok "3 2 1 4 5"
test_ok "3 2 1 5 4"
test_ok "3 2 4 1 5"
test_ok "3 2 4 5 1"
test_ok "3 2 5 1 4"
test_ok "3 2 5 4 1"
test_ok "3 4 1 2 5"
test_ok "3 4 1 5 2"
test_ok "3 4 2 1 5"
test_ok "3 4 2 5 1"
test_ok "3 4 5 1 2"
test_ok "3 4 5 2 1"
test_ok "3 5 1 2 4"
test_ok "3 5 1 4 2"
test_ok "3 5 2 1 4"
test_ok "3 5 2 4 1"
test_ok "3 5 4 1 2"
test_ok "3 5 4 2 1"
test_ok "4 1 2 3 5"
test_ok "4 1 2 5 3"
test_ok "4 1 3 2 5"
test_ok "4 1 3 5 2"
test_ok "4 1 5 2 3"
test_ok "4 1 5 3 2"
test_ok "4 2 1 3 5"
test_ok "4 2 1 5 3"
test_ok "4 2 3 1 5"
test_ok "4 2 3 5 1"
test_ok "4 2 5 1 3"
test_ok "4 2 5 3 1"
test_ok "4 3 1 2 5"
test_ok "4 3 1 5 2"
test_ok "4 3 2 1 5"
test_ok "4 3 2 5 1"
test_ok "4 3 5 1 2"
test_ok "4 3 5 2 1"
test_ok "4 5 1 2 3"
test_ok "4 5 1 3 2"
test_ok "4 5 2 1 3"
test_ok "4 5 2 3 1"
test_ok "4 5 3 1 2"
test_ok "4 5 3 2 1"
test_ok "5 1 2 3 4"
test_ok "5 1 2 4 3"
test_ok "5 1 3 2 4"
test_ok "5 1 3 4 2"
test_ok "5 1 4 2 3"
test_ok "5 1 4 3 2"
test_ok "5 2 1 3 4"
test_ok "5 2 1 4 3"
test_ok "5 2 3 1 4"
test_ok "5 2 3 4 1"
test_ok "5 2 4 1 3"
test_ok "5 2 4 3 1"
test_ok "5 3 1 2 4"
test_ok "5 3 1 4 2"
test_ok "5 3 2 1 4"
test_ok "5 3 2 4 1"
test_ok "5 3 4 1 2"
test_ok "5 3 4 2 1"
test_ok "5 4 1 2 3"
test_ok "5 4 1 3 2"
test_ok "5 4 2 1 3"
test_ok "5 4 2 3 1"
test_ok "5 4 3 1 2"
test_ok "5 4 3 2 1"

echo $GREEN OK: $s_count
echo $RED KO: $f_count